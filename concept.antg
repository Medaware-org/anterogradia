progn {
    fun (id = `pickRandomGuest, expr = `guest := random { `Braun, `Merkel })
    fun (id = `assembleGreeting, expr = sequence {
        "Hello, "
        if (&`guest = `Braun) {
            "Mr "
        } else {
            "Mrs. "
        }
        &`guest `!
    })
    repeat (count = 20, str = progn {
        eval(id = `pickRandomGuest)
        eval(id = `assembleGreeting)
    }, separator = "   ")
}